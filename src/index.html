<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Deep Focus Agent</title>
    <style>
        body { background: #050505; color: #00ff41; font-family: 'Courier New', monospace; padding: 20px; }
        #terminal { border: 1px solid #00ff41; height: 500px; overflow-y: auto; padding: 10px; background: rgba(0,20,0,0.9); margin-bottom: 10px;     box-shadow: 0 0 20px #00ff41;
    background-color: rgba(0, 0, 0, 0.8);
}
        input { background: #000; border: 1px solid #00ff41; color: #00ff41; width: 70%; padding: 10px; outline: none; }
        button { background: #00ff41; color: #000; border: none; padding: 10px 20px; cursor: pointer; font-weight: bold; }
        .system-msg { color: #888; font-size: 0.8rem; }
        .agent-msg { color: #fff; font-weight: bold; margin: 5px 0; }
    </style>
</head>
<body>
    <h3>L-A-T-T PROTOCOL : OPENCLAW CORE v1.1.1</h3>
    <div id="terminal">
        <div class="system-msg">[SYSTEM] Gemini Bridge Initializing...</div>
        <div class="system-msg">[SYSTEM] Python Core (core_v1_1.py) Linked.</div>
    </div>
    <input type="text" id="userInput" placeholder="输入指令...">
    <button onclick="sendCmd()">执行</button>

    <script>
        const term = document.getElementById('terminal');
        const input = document.getElementById('userInput');

        // 发送给 Python
        function sendCmd() {
            if(!input.value) return;
            term.innerHTML += '<div>> ' + input.value + '</div>';
            if(window.electronAPI) {
                window.electronAPI.send('to-python', input.value);
            }
            input.value = '';
            term.scrollTop = term.scrollHeight;
        }

        // 监听来自 Python 的回复
        if(window.electronAPI) {
            window.electronAPI.onResponse((data) => {
                term.innerHTML += '<div class="agent-msg">[AGENT] ' + data + '</div>';
                term.scrollTop = term.scrollHeight;
            });
        }
    </script>
</body>
</html>
